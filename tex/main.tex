%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode
% ^ we require xelatex for emoji support

\documentclass[9pt,mediumvopaper]{memoir}
\setlrmarginsandblock{2cm}{2cm}{*}
\setulmarginsandblock{2cm}{3cm}{*}
\checkandfixthelayout
% TODO: figure out formatting for actual printing
\setlrmarginsandblock{2cm}{2cm}{*}
\setulmarginsandblock{2cm}{3cm}{*}
\checkandfixthelayout
\usepackage[T1]{fontenc}
\usepackage{fontspec}
\usepackage{microtype}
\usepackage{palatino}
\usepackage{url}

% % set up font to support emojis - requires xetex
\usepackage[T1]{fontenc}
\usepackage[Latin,Greek,Emoticons]{ucharclasses}
\usepackage{fontspec}
 
\newfontfamily\emojifont{NotoEmoji-Medium.ttf}
% \setDefaultTransitions{\mydef}{}
% \newfontfamily\mynormal{Noto Sans}
% \setTransitionsForLatin{\mynormal}{}

\makepagestyle{messagebookstyle}
\makeevenhead{messagebookstyle}{\thepage}{}{\slshape\leftmark}
\makeoddhead{messagebookstyle}{\slshape\rightmark}{}{\thepage}

\pagestyle{messagebookstyle}
\newcommand{\insertextraspace}{\vspace{1.5mm}}



\author{Assembled by Ben Kettle}
\title{THE NAOMBEN CHRONICLES}
\date{}

\newcommand{\rightmsg}[1]{
\noindent\hfill%
\begin{minipage}{0.8\textwidth}
  \begin{flushright}
    #1
  \end{flushright}
\end{minipage}
\vspace{1mm}
}

\newcommand{\leftmsg}[1]{
\noindent\begin{minipage}{0.8\textwidth}
  #1
\end{minipage}
\vspace{1mm}
}


%%% experimental by me
\setlength{\emergencystretch}{3em} % Allows additional stretching
%%%
%%% BEGIN DOCUMENT


\usepackage{url} % Make sure this is in your preamble

% Modify your custom commands to handle URLs properly
\newcommand{\leftmsg}[2][0]{%
\noindent\begin{minipage}{0.8\textwidth}
  \ifnum#1>0
    \hspace*{5mm}\url{#2}% Adjust 5mm to your preference for indent size and use \url for proper URL handling
  \else
    \url{#2}
  \fi
\end{minipage}
\vspace{1mm}% You can adjust this space for separate messages
}

\newcommand{\rightmsg}[2][0]{%
\noindent\hfill%
\begin{minipage}{0.8\textwidth}
  \begin{flushright}
    \ifnum#1>0
      \hspace*{-5mm}\url{#2}% Adjust -5mm to your preference for indent size and use \url for proper URL handling
    \else
      \url{#2}
    \fi
  \end{flushright}
\end{minipage}
\vspace{1mm}% You can adjust this space for separate messages
}
%%




\begin{document}

\let\cleardoublepage\clearpage

\maketitle






\frontmatter

\null\vfill

\begin{flushleft}
\textit{NAME OF BOOK}
\bigskip





ALL RIGHTS RESERVED OR COPYRIGHT LICENSE LANGUAGE




\end{flushleft}

\newpage
\tableofcontents 

\let\cleardoublepage\clearpage

\mainmatter

% template must be finished with \includes and \end{document}

\leftmsg{Hey!}

\rightmsg{How's it going? {\emojifont 😡😡😡😡} }

{\emojifont
😀😃😄😁😆😅😂🤣🥲🥹 ☺️😊😇🙂🙃😉😌😍🥰😘😗😙 😚😋😛😝😜🤪🤨🧐🤓😎🥸 🤩🥳😏😒😞😔😟😕🙁☹️😣 😖😫😩🥺😢😭😮‍💨 😤😠😡🤬🤯😳🥵🥶😱😨 😰😥😓🫣🤗🫡🤔🫢🤭🤫 🤥😶😶‍🌫️😐😑😬🫨🫠🙄😯😦 😧😮😲🥱😴🤤😪😵😵‍💫🫥🤐🥴🤢🤮 🤧😷🤒🤕🤑🤠😈👿👹👺🤡💩👻 💀☠️👽👾🤖🎃😺😸 😹😻😼😽🙀😿😾}

\leftmsg{https://open.spotify.com/track/5M330VM7N8gPrYfia5nf25?si=NNhfy1IRRsiVsJqIM\_AfFQ}

\leftmsg{Oh, great! How about for you?}

\rightmsg{Swell}
\insertextraspace % Adds extra space between unique messages of the same type

\rightmsg{I just went to the vintage shop and I got there some sweaters and a funky vintage shirt and like a middle aged mom dress and I'm so excited to wear them all}

\leftmsg{Awesome}

\leftmsg{Glad to hear it.}

\include{2020-07}

\end{document}